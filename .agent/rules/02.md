---
trigger: always_on
---

# Entidades Geométricas e Cálculos

## Sistema de Coordenadas
* [cite_start]O sistema utiliza valores reais[cite: 346].
* [cite_start]O eixo Y cresce para baixo (padrão SVG)[cite: 362].

## Formas Geométricas Suportadas
[cite_start]Cada forma possui um identificador inteiro único e atributos específicos[cite: 347].

### 1. Círculo (`c`)
* [cite_start]**Definição:** Centro $(x, y)$, Raio $r$, Cor Borda, Cor Preenchimento[cite: 366].
* [cite_start]**Âncora:** O centro $(x, y)$[cite: 342].
* **Área:** $\pi * r^2$ (Cálculo padrão).

### 2. Retângulo (`r`)
* [cite_start]**Definição:** Âncora $(x, y)$, Largura $w$, Altura $h$, Cor Borda, Cor Preenchimento[cite: 366].
* [cite_start]**Âncora:** Canto superior esquerdo (considerando Y para baixo) ou "inferior esquerdo" no texto original que menciona plano invertido[cite: 343].
* **Área:** $w * h$.

### 3. Linha (`l`)
* [cite_start]**Definição:** Ponto inicial $(x1, y1)$, Ponto final $(x2, y2)$, Cor[cite: 366].
* **Âncora (Regra Específica):** É o extremo de menor X. Em caso de empate, o de menor Y (Definição do usuário).
* [cite_start]**Área (Fórmula Específica):** `2.0 * comprimento_da_linha`[cite: 451].
* **Comportamento de Cor:** Linhas possuem apenas cor de traço.
    * **Regra de Colisão:** Se uma linha for o elemento modificador (vencedor) e precisar "pintar" o perdedor com sua cor de preenchimento (que não existe), deve-se usar a **cor complementar da borda da linha** (Definição do usuário).

### 4. Texto (`t`)
* [cite_start]**Definição:** Coordenada $(x, y)$, Conteúdo (string), Cores, Alinhamento de âncora (`i`=início, `m`=meio, `f`=fim)[cite: 366].
* [cite_start]**Âncora:** Depende do parâmetro de alinhamento (`i`, `m`, `f`)[cite: 366].
* **Bounding Box (para colisão):** O texto é tratado como um segmento de linha (retângulo virtual) para fins de colisão.
    * Altura fixa para cálculo: `10.0` (implícito nas fórmulas).
    * [cite_start]Comprimento: `10.0 * numero_caracteres`[cite: 421].
    * Ajuste de X conforme âncora:
        * [cite_start]`i`: $x_{ini} = x_t$[cite: 420].
        * [cite_start]`m`: $x_{ini} = x_t - (10.0 * |t| / 2)$[cite: 434].
        * [cite_start]`f`: $x_{ini} = x_t - (10.0 * |t|)$[cite: 422].
* [cite_start]**Área (Fórmula Específica):** `20.0 * numero_caracteres`[cite: 449].