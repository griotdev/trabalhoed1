---
trigger: always_on
---

# Infraestrutura, Compilação e Execução

## Estrutura de Diretórios
[cite_start]O projeto deve seguir estritamente a seguinte organização de diretórios[cite: 4, 17]:
* [cite_start]`src/`: Diretório contendo todos os arquivos fonte (`.c`, `.h`) e o `makefile`[cite: 20, 21].
* [cite_start]O repositório git deve conter um `LEIA-ME.txt` e o diretório `src`[cite: 18, 20].

## Compilação
* [cite_start]**Compilador:** `gcc` (padrão C99)[cite: 28, 251].
* [cite_start]**Flags Obrigatórias:** `-std=c99`, `-fstack-protector-all`[cite: 27, 28].
* **Makefile:**
    * [cite_start]Deve estar dentro do diretório `src`[cite: 26].
    * [cite_start]Deve possuir a regra `ted` que produz o executável de mesmo nome dentro de `src`[cite: 26, 148].
    * [cite_start]Deve ter targets para geração de objetos de cada módulo[cite: 26].
    * [cite_start]Não devem existir arquivos além de fontes e makefile no diretório `src` (outros serão apagados antes da compilação)[cite: 30].

## Execução e Argumentos (CLI)
[cite_start]O programa será invocado via linha de comando com o nome `ted` e deve aceitar os seguintes parâmetros[cite: 148, 149]:

* `-e path`: (Opcional) Diretório-base de entrada (SDIR_ENTRADA). [cite_start]Se não informado, usa o diretório corrente[cite: 150, 151].
* `-f arq.geo`: (Obrigatório) Nome do arquivo de descrição geométrica. [cite_start]Deve estar sob `SDIR_ENTRADA`[cite: 152].
* `-q consulta.qry`: (Opcional) Arquivo de consultas/comandos. [cite_start]Deve estar sob `SDIR_ENTRADA`[cite: 153].
* [cite_start]`-o dir`: (Obrigatório) Diretório-base de saída (SDIR_SAIDA) onde os arquivos `.svg` e `.txt` serão salvos[cite: 154].

**Exemplo de invocação:**
[cite_start]`ted -e /home/ed/testes/ -f t001.geo -o /home/ed/alunos/alunol/o/ -q q1.qry`[cite: 158].

## Requisitos de Implementação
* [cite_start]**TADs:** É obrigatório o uso e implementação de **Pilha** e **Fila**[cite: 481].
* **Modularização:** Uso de arquivos `.h` e `.c` separados para cada estrutura.
* [cite_start]**Proibição:** É terminantemente proibido declarar `structs` dentro de arquivos de cabeçalho (`.h`)[cite: 474].